"use strict";(self.webpackChunkreact_proj_1=self.webpackChunkreact_proj_1||[]).push([[57],{5057:function(e,t,a){a.r(t),a.d(t,{CatalogContext:function(){return L},default:function(){return E}});var r=a(2791),i=a(4339),n={catalogfilter:{title:"\u0424\u0456\u043b\u044c\u0442\u0440\u0438",resetbuttonname:"\u0421\u043a\u0438\u043d\u0443\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440",switchbuttonname:"\u0424\u0456\u043b\u044c\u0442\u0440\u0438"},cataloglist:{categorynameall:"\u0412\u0441\u0456 \u0442\u043e\u0432\u0430\u0440\u0438",listhead:{name:"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f",amount:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c",unit:"\u041e\u0434. \u0432\u0438\u043c\u0456\u0440\u0443",price:"\u0426\u0456\u043d\u0430"}}},s={catalogfilter:{title:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b",resetbuttonname:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440",switchbuttonname:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"},cataloglist:{categorynameall:"\u0412\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b",listhead:{name:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",amount:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",unit:"\u0415\u0434. \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f",price:"\u0426\u0435\u043d\u0430"}}},c=a(5048),l=a(9400),o=a(6249),u=a(7408),d=a(3883),m=a(8592),h=a(7054),f=a(885),g=a(2982),x=a(184),j=function(){var e=(0,r.useContext)(L).localeData;return(0,x.jsx)("div",{className:"filter-text",children:(0,x.jsx)("h2",{className:"filter-text-name",children:e.catalogfilter.title})})},p=function(e){var t=e.handleSetFilterReset,a=(0,r.useContext)(L),i=a.localeData,n=a.handleResetCatalogSettings;return(0,x.jsx)("button",{className:"filter-reset-button",onClick:function(){n(),t()},children:i.catalogfilter.resetbuttonname})},v=a(4998),C=function(e){var t=e.subCategoryItem,a=(0,r.useContext)(L),i=a.handleSetSubCategory,n=a.activeSubCategoryId;return(0,x.jsx)("li",{className:"filter-item-child",children:(0,x.jsx)("button",{className:"filter-button filter-button-child ".concat(t._id===n?"filter-button-active":""),onClick:function(){i(t._id,t.categoryId._id)},children:t.name})})},N=function(e){var t=e.categoryItem,a=e.handleUnsetFilterReset,i=e.filterReset,n=(0,r.useContext)(L),s=n.subCategories,c=n.handleSetCategory,l=n.activeCategoryId,o=(0,r.useState)(!1),u=(0,f.Z)(o,2),d=u[0],m=u[1];(0,r.useEffect)((function(){d&&i&&m(!1)}),[d,i]);return(0,x.jsxs)("li",{className:"filter-item-parent",children:[(0,x.jsx)("button",{className:"filter-button filter-button-parent ".concat(t._id===l?"filter-button-active":""),onClick:function(){a(),c(t._id),m(!d)},children:t.name}),(0,x.jsx)(v.E.ul,{className:"filter-list-child",variants:{hidden:{height:0},visible:{height:"auto"}},initial:"hidden",animate:d?"visible":"hidden",children:s.filter((function(e){return e.categoryId._id===t._id})).map((function(e){return(0,x.jsx)(C,{subCategoryItem:e},e._id)}))})]})},b=function(){var e=(0,r.useContext)(L).categories,t=(0,g.Z)(e).sort((function(e,t){return e.position-t.position||e.name.localeCompare(t.name)})),a=(0,r.useState)(!1),i=(0,f.Z)(a,2),n=i[0],s=i[1],c=function(){n&&s(!1)};return(0,x.jsxs)("div",{className:"filter-container",children:[(0,x.jsx)(j,{}),(0,x.jsxs)("div",{className:"filter-list",children:[(0,x.jsx)(p,{handleSetFilterReset:function(){n||s(!0)}}),(0,x.jsx)("ul",{className:"filter-list-parent",children:t.map((function(e){return(0,x.jsx)(N,{categoryItem:e,handleUnsetFilterReset:c,filterReset:n},e._id)}))})]})]})},y=a(9806),S=a(1632),_=function(e){var t=e.catalogFilterActive,a=e.handleSwitchCatalogFilter,i=(0,r.useContext)(L).localeData,n=t?{transform:"rotate(180deg)"}:"";return(0,x.jsx)("div",{className:"filter-switcher-container",children:(0,x.jsxs)("button",{className:"filter-switcher",onClick:a,children:[(0,x.jsx)(y.G,{icon:S.zc,size:"2x",className:"filter-switcher-icon",style:n}),(0,x.jsx)("span",{className:"filter-switcher-text",children:i.catalogfilter.switchbuttonname}),(0,x.jsx)(y.G,{icon:S.zc,size:"2x",className:"filter-switcher-icon",style:n})]})})},w=function(){var e=(0,r.useState)(!1),t=(0,f.Z)(e,2),a=t[0],i=t[1];return(0,x.jsxs)("div",{className:"catalog-filter ".concat(a?"catalog-filter-active":""),children:[(0,x.jsx)(b,{}),(0,x.jsx)(_,{catalogFilterActive:a,handleSwitchCatalogFilter:function(){i(!a)}})]})},I=a(1413),Z=function(e){var t=e.name,a=e.price;return(0,x.jsxs)("tr",{className:"list-body-row",children:[(0,x.jsx)("th",{className:"list-body-column column-name",children:t}),(0,x.jsx)("th",{className:"list-body-column column-price",children:a})]})},D=function(e){var t=e.itemsData;return(0,x.jsx)("tbody",{className:"list-body",children:t.map((function(e){return(0,x.jsx)(Z,(0,I.Z)({},e),e._id)}))})},R=function(){var e=(0,r.useContext)(L).localeData;return(0,x.jsx)("thead",{className:"list-head",children:(0,x.jsxs)("tr",{className:"list-head-row",children:[(0,x.jsx)("th",{className:"list-head-column column-name",children:e.cataloglist.listhead.name}),(0,x.jsx)("th",{className:"list-head-column column-price",children:e.cataloglist.listhead.price})]})})},F=function(e){var t=e.itemsData;return(0,x.jsx)("div",{className:"list-container",children:(0,x.jsxs)("table",{className:"list",children:[(0,x.jsx)(R,{}),(0,x.jsx)(D,{itemsData:t})]})})},k=function(){var e=(0,r.useContext)(L),t=e.localeData,a=e.categories,i=e.subCategories,n=e.items,s=e.activeCategoryId,c=e.activeSubCategoryId,l=s?a.find((function(e){return e._id===s})).name:t.cataloglist.categorynameall,o=c?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(y.G,{icon:S._tD,size:"1x",className:"list-text-icon"}),i.find((function(e){return e._id===c})).name]}):"",u=s?i.filter((function(e){return e.categoryId._id===s})).map((function(e){return e._id})):[],d=s&&c?n.filter((function(e){return e.subCategoryId._id===c})):s&&!c?n.filter((function(e){return u.includes(e.subCategoryId._id)})):n;return(0,x.jsxs)("div",{className:"catalog-list",children:[(0,x.jsx)("div",{className:"list-text",children:(0,x.jsxs)("h1",{className:"list-text-name",children:[l,o]})}),(0,x.jsx)(F,{itemsData:d})]})},L=(0,r.createContext)(),z=function(){var e=(0,r.useContext)(i.R),t=e.localeName===e.primaryLocale?n:s,a=(0,l.NL)(),f=a.data,g=a.isLoading,j=a.isError,p=a.isSuccess,v=a.error,C=(0,l.U)(),N=C.data,b=C.isLoading,y=C.isError,S=C.isSuccess,_=C.error,I=(0,l.Qd)(),Z=I.data,D=I.isLoading,R=I.isError,F=I.isSuccess,z=I.error,E=(0,c.I0)(),U=(0,c.v9)((function(e){return e.catalogSettings.category.id})),W=(0,c.v9)((function(e){return e.catalogSettings.subCategory.id}));return g||b||D?(0,x.jsx)(u.Z,{}):j||y||R?(0,x.jsx)(d.Z,{errorCode:v?v.status:_?_.status:z?z.status:""}):p&&S&&F?(0,x.jsx)(L.Provider,{value:{localeData:t,categories:f,subCategories:N,items:Z,handleSetCategory:function(e){E((0,o.PR)({id:e}))},handleSetSubCategory:function(e,t){E((0,o.ds)({id:e,categoryId:t}))},handleResetCatalogSettings:function(){E((0,o.Kx)())},activeCategoryId:U,activeSubCategoryId:W},children:(0,x.jsx)(m.Z,{pageWrapperClassName:"catalog-wrapper",children:(0,x.jsxs)(h.Z,{pageSectionClassName:"catalog-section",pageSectionWrapperClassName:"catalog-section-wrapper",children:[(0,x.jsx)(w,{}),(0,x.jsx)(k,{})]})})}):void 0},E=(0,r.memo)(z)},3883:function(e,t,a){a.d(t,{Z:function(){return l}});var r=a(2791),i=a(4339),n=a(689),s=a(9650),c=a(184),l=function(e){var t=e.errorCode,a=(0,r.useContext)(i.R),l=a.localeName===a.primaryLocale?n.U:s.S;return(0,c.jsx)("div",{className:"error-page",children:(0,c.jsxs)("div",{className:"error-page-wrapper",children:[(0,c.jsx)("img",{src:"../img/error.png",alt:"Sad face",className:"error-page-image"}),(0,c.jsxs)("div",{className:"error-page-text",children:[(0,c.jsx)("h1",{className:"error-page-title",children:l.error}),t?(0,c.jsxs)("p",{className:"error-page-code",children:["`\u041a\u043e\u0434: ( $",t," )`"]}):(0,c.jsx)(c.Fragment,{})]})]})})}},7054:function(e,t,a){a.d(t,{Z:function(){return i}});a(2791);var r=a(184),i=function(e){var t=e.pageSectionClassName,a=e.pageSectionWrapperClassName,i=e.children;return(0,r.jsx)("section",{className:"page-section".concat(t?" "+t:""),children:(0,r.jsx)("div",{className:"page-section-wrapper".concat(a?" "+a:""),children:i})})}},8592:function(e,t,a){a.d(t,{Z:function(){return i}});a(2791);var r=a(184),i=function(e){var t=e.pageWrapperClassName,a=e.children;return(0,r.jsx)("div",{className:"page-wrapper".concat(t?" "+t:""),children:a})}}}]);
//# sourceMappingURL=57.5d557003.chunk.js.map